μ κ³µν•΄μ£Όμ‹  `ocr.py` μ½”λ“λ” **Flask μ›Ή ν”„λ μ„μ›ν¬**, **YOLO κ°μ²΄ μΈμ‹**, **Windows λ‚΄μ¥ OCR**μ„ κ²°ν•©ν•μ—¬ **μ£Όμ°¨ λ‹¨μ† λ° μ°¨λ‰ λ²νΈν μΈμ‹ μ‹μ¤ν…**μ„ κµ¬μ¶•ν•λ” μ „μ²΄ μ†μ¤ μ½”λ“μ…λ‹λ‹¤.

μ΄ ν”„λ΅μ νΈμ— μ ν•©ν• μƒμ„Έν• `README.md` λ¬Έμ„λ¥Ό μ‘μ„±ν•΄ λ“λ¦½λ‹λ‹¤. μ΄ λ¬Έμ„λ” ν”„λ΅μ νΈμ λ©μ , μ„¤μΉ λ°©λ²•, μ‚¬μ©λ²•, κΈ°μ μ  κµ¬μ΅° λ“±μ„ ν¬κ΄„ν•©λ‹λ‹¤.

---

# π— μ£Όμ°¨ λ‹¨μ† λ° λ²νΈν μλ™ μΈμ‹ μ‹μ¤ν… (ALPR Web Service)

μ΄ ν”„λ΅μ νΈλ” **Windows κΈ°λ° PC**μ—μ„ λ™μ‘ν•λ” μ›Ή κΈ°λ° μ°¨λ‰ λ²νΈν μΈμ‹ μ‹μ¤ν…μ…λ‹λ‹¤. μ‚¬μ©μκ°€ μ΄¬μν• μ£Όμ°¨ μ„λ° μ°¨λ‰ μ‚¬μ§„μ„ μ—…λ΅λ“ν•λ©΄, AI(YOLO)κ°€ λ²νΈνμ„ μ°Ύκ³  Windows OCR μ—”μ§„μ΄ λ²νΈλ¥Ό νλ…ν•μ—¬ μ—‘μ…€ λ¦¬ν¬νΈλ΅ μλ™ λ³€ν™ν•΄ μ¤λ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥

* **μ›Ή κΈ°λ° μΈν„°νμ΄μ¤**: λ³„λ„μ μ„¤μΉ μ—†μ΄ λΈλΌμ°μ €(PC/λ¨λ°”μΌ)λ¥Ό ν†µν•΄ μ ‘μ†ν•μ—¬ μ‚¬μ§„μ„ μ—…λ΅λ“ν•κ³  κ²°κ³Όλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
* **κ°•λ ¥ν• μΈμ‹ νμ΄ν”„λΌμΈ**:
* **YOLOv8**: μ΄λ―Έμ§€ λ‚΄μ—μ„ μ°¨λ‰ λ²νΈνμ μ„μΉλ¥Ό μ •ν™•ν•κ² νƒμ§€ν•©λ‹λ‹¤.
* **Windows Media OCR**: λ΅μ»¬ Windows μ—”μ§„μ„ μ‚¬μ©ν•μ—¬ λΉ λ¥΄κ³  μ •ν™•ν•κ² ν•κΈ€/μ«μλ¥Ό μΈμ‹ν•©λ‹λ‹¤.
* **μ΄λ―Έμ§€ μ „μ²λ¦¬**: CLAHE(λ€λΉ„ ν–¥μƒ), μ΄μ§„ν™”, λ…Έμ΄μ¦ μ κ±° λ“±μ„ ν†µν•΄ μΈμ‹λ¥ μ„ κ·Ήλ€ν™”ν•©λ‹λ‹¤.


* **μλ™ λ³΄μ • μ•κ³ λ¦¬μ¦**:
* OCR μ¤μΈμ‹ λ¬Έμ μλ™ λ³€ν™ (μ: `O` β†’ `0`, `S` β†’ `5`, `I` β†’ `1`)
* λ€ν•λ―Όκµ­ λ²νΈν μ •κ·μ‹(`12κ°€3456` λ“±) λ§¤μΉ­ λ° κ²€μ¦
* ννΈν™”λ ν…μ¤νΈ μλ™ μ΅°ν•©(Stitching)


* **λ³΄κ³ μ„ μλ™ν™”**: μΈμ‹λ κ²°κ³Όλ¥Ό λ‚ μ§, μ‹κ°„, μ„λ° μ‚¬μ λ³„λ΅ μ •λ¦¬ν•μ—¬ **Excel(.xlsx)** νμΌλ΅ μ €μ¥ν•©λ‹λ‹¤.
* **μ™Έλ¶€ μ ‘μ† μ§€μ›**: Cloudflare Tunnelμ„ λ‚΄μ¥ν•μ—¬, ν¬νΈν¬μ›λ”© μ—†μ΄ μ™Έλ¶€λ§(LTE/5G)μ—μ„λ„ μ ‘μ† κ°€λ¥ν• URLμ„ μƒμ„±ν•©λ‹λ‹¤.
* **λ©€ν‹°μ¤λ λ”©**: λ€λ‰μ μ΄λ―Έμ§€λ¥Ό λ°±κ·ΈλΌμ΄λ“μ—μ„ λΉ„λ™κΈ°μ μΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤.

## π›  κΈ°μ  μ¤νƒ

* **Language**: Python 3.8+
* **Web Framework**: Flask, Waitress (Production Server)
* **AI/CV**: Ultralytics YOLOv8, OpenCV, NumPy
* **OCR**: Windows SDK (winsdk.windows.media.ocr)
* **Data**: Pandas, OpenPyXL
* **Network**: Cloudflare Tunnel (`cloudflared`)

---

## π’» μ„¤μΉ λ° μ‹¤ν–‰ κ°€μ΄λ“

### 1. ν•„μ μ”κµ¬ μ‚¬ν•­ (Prerequisites)

> β οΈ **μ¤‘μ”**: μ΄ μ‹μ¤ν…μ€ **Windows 10 λλ” Windows 11** μ΄μμ²΄μ μ—μ„λ§ μ‘λ™ν•©λ‹λ‹¤. (Windows λ‚΄μ¥ OCR μ—”μ§„ μ‚¬μ©)

* Python 3.8 μ΄μƒ μ„¤μΉ
* Windows κ°λ°μ λ¨λ“ κ¶μ¥ (μ„ νƒ μ‚¬ν•­)

### 2. λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ

ν”„λ΅μ νΈ ν΄λ”μ—μ„ ν„°λ―Έλ„μ„ μ—΄κ³  μ•„λ λ…λ Ήμ–΄λ΅ ν•„μ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•©λ‹λ‹¤.

```bash
pip install flask waitress opencv-python numpy pandas ultralytics winsdk requests openpyxl

```

> **μ°Έκ³ **: `winsdk` μ„¤μΉ μ‹ μ—λ¬κ°€ λ°μƒν•λ©΄, Visual Studio C++ Build Toolsκ°€ μ„¤μΉλμ–΄ μλ”μ§€ ν™•μΈν•μ„Έμ”.

### 3. YOLO λ¨λΈ νμΌ μ¤€λΉ„

* μ‚¬μ©μ ν•™μµλ λ¨λΈ(`best.pt`)μ΄ μλ‹¤λ©΄ ν”„λ΅μ νΈ λ£¨νΈ ν΄λ”μ— μ„μΉμ‹ν‚µλ‹λ‹¤.
* νμΌμ΄ μ—†μΌλ©΄ μ‹¤ν–‰ μ‹ μλ™μΌλ΅ κΈ°λ³Έ λ¨λΈ(`yolov8n.pt`)μ„ λ‹¤μ΄λ΅λ“ν•μ—¬ μ‚¬μ©ν•μ§€λ§, λ²νΈν μΈμ‹λ¥ μ΄ λ‹¤μ† λ–¨μ–΄μ§ μ μμµλ‹λ‹¤.

### 4. μ„λ²„ μ‹¤ν–‰

```bash
python ocr.py

```

μ‹¤ν–‰ν•λ©΄ μ½μ†”μ— λ‹¤μκ³Ό κ°™μ€ μ •λ³΄κ°€ μ¶λ ¥λ©λ‹λ‹¤:

* λ΅μ»¬ μ ‘μ† μ£Όμ†: `http://127.0.0.1:5000`
* μ™Έλ¶€ μ ‘μ† μ£Όμ†: `https://[λλ¤λ¬Έμμ—΄].trycloudflare.com` (Cloudflare ν„°λ„ μ„±κ³µ μ‹)

---

## π“– μ‚¬μ© λ°©λ²•

1. **λ΅κ·ΈμΈ**:
* λΈλΌμ°μ €λ΅ μ ‘μ† μ£Όμ†μ— λ“¤μ–΄κ°‘λ‹λ‹¤.
* μ΄κΈ° λΉ„λ°€λ²νΈ **`1234`**λ¥Ό μ…λ ¥ν•©λ‹λ‹¤. (μ½”λ“ λ‚΄ `SYSTEM_PASSWORD` λ³€μμ—μ„ λ³€κ²½ κ°€λ¥)


2. **μ΄λ―Έμ§€ μ—…λ΅λ“**:
* λ‹¨μ† μ„μΉ(λ™/νΈμ)μ™€ μ„λ° μ‚¬μ λ¥Ό μ„ νƒν•©λ‹λ‹¤.
* `νμΌ μ„ νƒ` λ²„νΌμ„ λλ¬ λ²νΈνμ΄ μ°ν μ‚¬μ§„λ“¤μ„ μ„ νƒν•κ³  `λ¶„μ„ μ‹μ‘`μ„ ν΄λ¦­ν•©λ‹λ‹¤.


3. **κ²°κ³Ό ν™•μΈ λ° μμ •**:
* λ¶„μ„μ΄ μ™„λ£λλ©΄ λ²νΈν μΈμ‹ κ²°κ³Όκ°€ ν‘μ‹λ©λ‹λ‹¤.
* μΈμ‹μ΄ μλ»λ κ²½μ° μλ™μΌλ΅ λ²νΈλ¥Ό μμ •ν•  μ μμµλ‹λ‹¤.


4. **μ €μ¥**:
* `κ²°κ³Ό μ €μ¥` λ²„νΌμ„ λ„λ¥΄λ©΄ μ„λ²„μ `Excel` νμΌμ— λ‚΄μ©μ΄ λ„μ  μ €μ¥λ©λ‹λ‹¤.
* `λ¦¬ν¬νΈ` λ©”λ‰΄μ—μ„ μ €μ¥λ μ—‘μ…€ νμΌμ„ λ‹¤μ΄λ΅λ“ν•  μ μμµλ‹λ‹¤.



---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```text
π“¦ Project Root
 β”£ π“‚ uploads              # μ—…λ΅λ“λ μ›λ³Έ μ΄λ―Έμ§€κ°€ λ‚ μ§/μ„μΉλ³„λ΅ μ €μ¥λ¨
 β”£ π“‚ templates            # Flask HTML ν…ν”λ¦Ώ (index.html, result.html λ“±)
 β”£ π“ ocr.py               # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ… μ†μ¤ μ½”λ“
 β”£ π“ best.pt              # (κ¶μ¥) λ²νΈν ν•™μµλ YOLO λ¨λΈ
 β”£ π“ yolov8n.pt           # (μλ™λ‹¤μ΄) κΈ°λ³Έ YOLO λ¨λΈ
 β”£ π“ cloudflared.exe      # (μλ™λ‹¤μ΄) μ™Έλ¶€ μ ‘μ†μ© ν„°λ„ ν”„λ΅κ·Έλ¨
 β”— π“ μ£Όμ°¨λ‹¨μ†λ‚΄μ—­_xxxx.xlsx  # μƒμ„±λ κ²°κ³Ό μ—‘μ…€ νμΌ

```

---

## β™οΈ ν™κ²½ μ„¤μ • (Configuration)

`ocr.py` νμΌ μƒλ‹¨μ μ„¤μ • κµ¬μ—­μ„ μμ •ν•μ—¬ μ»¤μ¤ν„°λ§μ΄μ§•ν•  μ μμµλ‹λ‹¤.

```python
# ==========================================
# π”’ [λ³΄μ• μ„¤μ • κµ¬μ—­]
# ==========================================
SYSTEM_PASSWORD = "1234"  # λ΅κ·ΈμΈ λΉ„λ°€λ²νΈ λ³€κ²½
app.secret_key = "..."    # μ„Έμ… μ•”νΈν™” ν‚¤ (μ„μ λ³€κ²½ κ¶μ¥)

# --- [YOLO λ¨λΈ κ²½λ΅] ---
YOLO_MODEL_PATH = os.path.join(BASE_DIR, 'best.pt') # λ¨λΈ νμΌλ… λ³€κ²½ μ‹ μμ •

```

---

## π” λ¬Έμ  ν•΄κ²° (Troubleshooting)

**Q. `ModuleNotFoundError: No module named 'winsdk'` μ¤λ¥κ°€ λ‚©λ‹λ‹¤.**

* A. `pip install winsdk`λ¥Ό μ‹¤ν–‰ν•μ„Έμ”. μ΄ λΌμ΄λΈλ¬λ¦¬λ” Windows OSμ—μ„λ§ μ„¤μΉ κ°€λ¥ν•©λ‹λ‹¤.

**Q. μ™Έλ¶€ μ ‘μ† URLμ΄ μƒμ„±λμ§€ μ•μµλ‹λ‹¤.**

* A. μ²μ μ‹¤ν–‰ μ‹ `cloudflared.exe`λ¥Ό λ‹¤μ΄λ΅λ“ν•λ” λ° μ‹κ°„μ΄ κ±Έλ¦΄ μ μμµλ‹λ‹¤. μΈν„°λ„· μ—°κ²°μ„ ν™•μΈν•κ³  λ°©ν™”λ²½μ΄ μ°¨λ‹¨ν•μ§€ μ•λ”μ§€ ν™•μΈν•μ„Έμ”.

**Q. OCR μΈμ‹λ¥ μ΄ λ„λ¬΄ λ‚®μµλ‹λ‹¤.**

* A.
1. μ‚¬μ§„ μ΄¬μ μ‹ λ²νΈνμ΄ λ„λ¬΄ μ‘κ±°λ‚ νλ¦¬μ§€ μ•κ² μ°μ–΄μ£Όμ„Έμ”.
2. `best.pt` λ¨λΈμ΄ λ²νΈν μμ—­λ§ μ •ν™•ν μλ¥΄λ„λ΅ ν•™μµλ λ¨λΈμΈμ§€ ν™•μΈν•μ„Έμ”.
3. μ½”λ“ λ‚΄ `process_and_ocr` ν•¨μμ μ „μ²λ¦¬ ν•„ν„° μμ„λ¥Ό μ΅°μ •ν•΄ λ³Ό μ μμµλ‹λ‹¤.



---

## π“ λΌμ΄μ„ μ¤ λ° μ €μ‘κ¶

μ‚¬μ©λ best.pt νμΌ 
https://github.com/MuhammadMoinFaisal/Computervisionprojects/tree/main/ANPR_YOLOv10/weights
