# π— μ£Όμ°¨ λ‹¨μ† λ° λ²νΈν μλ™ μΈμ‹ μ‹μ¤ν… (Parking Violation LPR System)

**YOLOv8** κΈ°λ°μ κ°μ²΄ νƒμ§€μ™€ **Windows Media OCR**μ„ ν™μ©ν• μ°¨λ‰ λ²νΈν μλ™ μΈμ‹ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤.  
μ‚¬μ©μκ°€ μ£Όμ°¨ λ‹¨μ† μ‚¬μ§„μ„ λ€λ‰μΌλ΅ μ—…λ΅λ“ν•λ©΄, μλ™μΌλ΅ λ²νΈνμ„ μ‹λ³„ν•μ—¬ ν…μ¤νΈλ΅ λ³€ν™ν•κ³  μ—‘μ…€(Excel) νμΌλ΅ μ •λ¦¬ν•΄μ¤λ‹λ‹¤.

## π“ μ£Όμ” κΈ°λ¥ (Key Features)

* **μ›Ή κΈ°λ° μΈν„°νμ΄μ¤**: λ³„λ„μ ν”„λ΅κ·Έλ¨ μ„¤μΉ μ—†μ΄ λΈλΌμ°μ €(Flask)λ¥Ό ν†µν•΄ κ°„νΈν•κ² μ ‘κ·Ό κ°€λ¥.
* **κ³ μ„±λ¥ λ²νΈν νƒμ§€**: `YOLOv8`μ„ μ‚¬μ©ν•μ—¬ μ΄λ―Έμ§€ λ‚΄μ—μ„ λ²νΈν μμ—­μ„ μ •λ°€ν•κ² ν¬λ΅­(Crop).
* **κ°•λ ¥ν• OCR (λ¬Έμ μΈμ‹)**: Windows λ‚΄μ¥ OCR μ—”μ§„(`winsdk`)μ„ ν™μ©ν•μ—¬ λ†’μ€ ν•κµ­μ–΄ λ²νΈν μΈμ‹λ¥  μ κ³µ.
* **μ§€λ¥ν• μ΄λ―Έμ§€ μ „μ²λ¦¬**: μ›λ³Έ, CLAHE(λ€λΉ„ ν–¥μƒ), Threshold(μ΄μ§„ν™”) 3λ‹¨κ³„ ν•„ν„°λ§μ„ ν†µν•΄ μΈμ‹ μ„±κ³µλ¥  κ·Ήλ€ν™”.
* **λ€μ©λ‰ μ²λ¦¬ μµμ ν™”**: λ©€ν‹°μ¤λ λ”©(Threading) λ° λΉ„λ™κΈ° μ²λ¦¬λ¥Ό μ§€μ›ν•μ—¬ μμ‹­ μ¥μ μ‚¬μ§„λ„ λκΉ€ μ—†μ΄ λ°±κ·ΈλΌμ΄λ“μ—μ„ λ¶„μ„.
* **μλ™ λ¬Έμ„ν™”**: μΈμ‹λ λ‚ μ§, μ„μΉ, μ‚¬μ , μ°¨λ‰λ²νΈλ¥Ό μ—‘μ…€(`.xlsx`) νμΌλ΅ μλ™ λ„μ  μ €μ¥.
* **μ²΄κ³„μ μΈ νμΌ κ΄€λ¦¬**: μ—…λ΅λ“λ μ΄λ―Έμ§€λ¥Ό `λ‚ μ§ > μ¥μ† > μ¤μ „/μ¤ν›„ > μ‚¬μ ` ν΄λ” κµ¬μ΅°λ΅ μλ™ λ¶„λ¥ μ €μ¥.

---

## π’» μ‹μ¤ν… μ”κµ¬μ‚¬ν•­ (Prerequisites)

> β οΈ **μ¤‘μ” (Critical)**: μ΄ ν”„λ΅μ νΈλ” **Windows 10 λλ” 11** ν™κ²½μ—μ„λ§ μ‘λ™ν•©λ‹λ‹¤.
> Linux(Ubuntu, CentOS)λ‚ MacOSμ—μ„λ” `winsdk` λΌμ΄λΈλ¬λ¦¬ νΈν™ λ¬Έμ λ΅ μ‹¤ν–‰λμ§€ μ•μµλ‹λ‹¤.

* **OS**: Windows 10 / 11 (ν•κµ­μ–΄ μ–Έμ–΄ ν© μ„¤μΉ ν•„μ)
* **Python**: 3.8 μ΄μƒ
* **Hardware**: CUDA μ§€μ› NVIDIA GPU κ¶μ¥ (YOLO μ†λ„ ν–¥μƒ), CPUλ΅λ„ κµ¬λ™ κ°€λ¥.

---

## π›  μ„¤μΉ λ° μ‹¤ν–‰ κ°€μ΄λ“ (Installation)

### 1. ν”„λ΅μ νΈ ν΄λ΅  λ° μ΄λ™
```bash
git clone [λ ν¬μ§€ν† λ¦¬ μ£Όμ†]
cd [ν”„λ΅μ νΈ ν΄λ”λ…]

```

### 2. ν•„μ λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ

μ•„λ λ…λ Ήμ–΄λ¥Ό ν†µν•΄ ν•„μ”ν• ν¨ν‚¤μ§€λ“¤μ„ μ„¤μΉν•©λ‹λ‹¤.

```bash
pip install flask ultralytics opencv-python pandas winsdk numpy openpyxl

```

### 3. YOLO λ¨λΈ νμΌ μ¤€λΉ„

ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν† λ¦¬μ— ν•™μµλ λ¨λΈ νμΌ `best.pt`κ°€ μμ–΄μ•Ό ν•©λ‹λ‹¤.
(νμΌμ΄ μ—†μ„ κ²½μ° `yolov8n.pt`κ°€ μλ™μΌλ΅ λ΅λ“λμ§€λ§, λ²νΈν μΈμ‹λ¥ μ΄ λ–¨μ–΄μ§ μ μμµλ‹λ‹¤.)

### 4. μ„λ²„ μ‹¤ν–‰

```bash
python ocr.py

```

### 5. μ ‘μ†

λΈλΌμ°μ €λ¥Ό μ—΄κ³  `http://127.0.0.1:5000` μΌλ΅ μ ‘μ†ν•©λ‹λ‹¤.

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅° (Directory Structure)

```
π“¦ Project Root
 β”£ π“‚ templates              # Flask HTML ν…ν”λ¦Ώ
 β”ƒ β”£ π“ index.html           # λ©”μΈ μ—…λ΅λ“ ν™”λ©΄
 β”ƒ β”£ π“ progress.html        # μ§„ν–‰ μƒν™© λ΅λ”© ν™”λ©΄
 β”ƒ β”£ π“ result.html          # κ²°κ³Ό ν™•μΈ λ° μμ • ν™”λ©΄
 β”ƒ β”— π“ help.html            # λ„μ›€λ§
 β”£ π“‚ uploads                # (μλ™μƒμ„±) μ—…λ΅λ“λ μ΄λ―Έμ§€ μ €μ¥μ†
 β”£ π“ ocr.py                 # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ… (Flask Server)
 β”£ π“ best.pt                # YOLOv8 ν•™μµ λ¨λΈ (λ²νΈν νƒμ§€μ©)
 β”— π“ μ£Όμ°¨λ‹¨μ†λ‚΄μ—­_YYYY-MM-DD.xlsx # (μλ™μƒμ„±) κ²°κ³Ό μ €μ¥ νμΌ

```

---

## π§  κΈ°μ μ  μƒμ„Έ λ° λ΅μ§ (Technical Details)

### 1. μ΄λ―Έμ§€ μ²λ¦¬ νμ΄ν”„λΌμΈ

1. **Detection**: YOLO λ¨λΈμ΄ μ΄λ―Έμ§€μ—μ„ λ²νΈν μΆν‘λ¥Ό μ°Ύμµλ‹λ‹¤. (κ°€μ¥ ν° λ©΄μ  μ°μ„ )
2. **Preprocessing**: μΈμ‹λ¥ μ„ λ†’μ΄κΈ° μ„ν•΄ 3κ°€μ§€ λ²„μ „μΌλ΅ μ΄λ―Έμ§€λ¥Ό κ°€κ³µν•©λ‹λ‹¤.
* *Original*: μ›λ³Έ κ·Έλ μ΄μ¤μΌ€μΌ
* *CLAHE*: μ΅°λ… λ³΄μ • (μ–΄λ‘μ΄ μ£Όμ°¨μ¥ λ€μ‘)
* *Threshold*: λ…Έμ΄μ¦ μ κ±° λ° κΈ€μ μ„ λ…ν™”


3. **Recognition**: Windows Media OCRμ΄ κ°€κ³µλ μ΄λ―Έμ§€μ—μ„ ν…μ¤νΈλ¥Ό μ¶”μ¶ν•©λ‹λ‹¤.
4. **Validation**: μ •κ·μ‹(Regex)μ„ ν†µν•΄ μ°¨λ‰ λ²νΈ ν¨ν„΄(`123κ°€4567`)μ΄ λ§λ”μ§€ κ²€μ¦ν•©λ‹λ‹¤.

### 2. λ°±κ·ΈλΌμ΄λ“ μ²λ¦¬ (Async)

* μ‚¬μ©μ μ”μ²­ μ‹ `threading`μ„ μ‚¬μ©ν•μ—¬ λ³„λ„μ μ‘μ—… μ¤λ λ“λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
* λ©”μΈ μ›Ή μ„λ²„λ” λ©μ¶”μ§€ μ•μΌλ©°, ν΄λΌμ΄μ–ΈνΈλ” AJAXλ¥Ό ν†µν•΄ μ‹¤μ‹κ°„μΌλ΅ μ§„ν–‰λ¥ (%)μ„ ν™•μΈν•©λ‹λ‹¤.

---

## β οΈ μ£Όμμ‚¬ν•­ (Troubleshooting)

* **`winsdk` ImportError**: `pip install winsdk`λ¥Ό μ‹¤ν–‰ν–λ”μ§€ ν™•μΈν•μ„Έμ”. Windows OSκ°€ μ•„λ‹ κ²½μ° μ‹¤ν–‰ν•  μ μ—†μµλ‹λ‹¤.
* **OCR μΈμ‹ μ‹¤ν¨**: μ‚¬μ§„μ΄ λ„λ¬΄ νλ¦¬κ±°λ‚, λ²νΈνμ΄ μ‹¬ν•κ² μ¤μ—Όλ κ²½μ° μΈμ‹μ΄ μ‹¤ν¨ν•  μ μμµλ‹λ‹¤. μ΄ κ²½μ° κ²°κ³Ό ν™”λ©΄μ—μ„ μλ™μΌλ΅ λ²νΈλ¥Ό μμ •ν•μ—¬ μ €μ¥ν•  μ μμµλ‹λ‹¤.
* **μ—‘μ…€ μ €μ¥ μ¤λ¥**: `μ£Όμ°¨λ‹¨μ†λ‚΄μ—­.xlsx` νμΌμ΄ μ—‘μ…€ ν”„λ΅κ·Έλ¨μ—μ„ μ—΄λ ¤ μλ” μƒνƒλΌλ©΄ μ €μ¥μ΄ λμ§€ μ•μµλ‹λ‹¤. νμΌμ„ λ‹«κ³  λ‹¤μ‹ μ‹λ„ν•μ„Έμ”.

## μ‚¬μ©λ best.pt λ¨λΈ 

https://github.com/MuhammadMoinFaisal/Computervisionprojects/tree/main/ANPR_YOLOv10/weights
